import{r as i,b as d,j as a,N as m,S as h}from"./index-CfcPt9sK.js";const u=()=>{const[c,n]=i.useState([]),[t,o]=i.useState(()=>{const s=localStorage.getItem("cart");return s?JSON.parse(s):[]});d(),i.useEffect(()=>{fetch("https://api.lyricistsassociationbd.com/api/v1/product/list-paginate").then(s=>s.json()).then(s=>n(s.data.data)).catch(s=>console.error("Error fetching data:",s))},[]),i.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const l=s=>{if(!t.some(r=>r.id===s.id)){const r=[...t,s];o(r),h.fire({text:`${s.name} has been added to your cart!`,icon:"success",showConfirmButton:!1,timer:2e3,position:"top-end",toast:!0,customClass:{popup:"custom-swal"}})}};return a.jsxs(a.Fragment,{children:[a.jsx(m,{cart:t}),a.jsx("div",{className:"container-fluid bg-dark min-h-screen",style:{minHeight:"100vh"},children:a.jsxs("div",{className:"container py-4",children:[a.jsx("h1",{className:"text-light text-start mb-5",children:a.jsx("span",{className:"typograph-text",children:"All Valuable Books"})}),a.jsx("div",{className:"book-list",children:c.map(s=>a.jsxs("div",{className:"book-card",style:{backgroundColor:"rgba(165, 239, 255, 0.2)"},children:[a.jsx("div",{className:"book-image-container",children:a.jsx("img",{src:`https://adminapi.lyricistsassociationbd.com${s.file_path}`,alt:s.name,className:"book-image mt-lg-3"})}),a.jsxs("div",{className:"book-content",children:[a.jsx("h2",{className:"book-title",children:s.name}),a.jsxs("h5",{className:"book-author",children:["By ",a.jsx("span",{className:"author-name",children:s.member.name})]}),a.jsx("p",{className:"book-description",children:s.description}),a.jsxs("p",{className:"book-price",children:[s.price," BDT Only"]}),a.jsx("button",{className:"cart-button",onClick:()=>l(s),disabled:t.some(e=>e.id===s.id),children:t.some(e=>e.id===s.id)?"In Cart":"Add to Cart"})]})]},s.id))})]})})]})};export{u as default};
