import{r as o,j as a,N as F,M as c,F as s,B as L}from"./index-DCyFZ4Zq.js";const $=()=>{const[x,u]=o.useState([]),[m,g]=o.useState(1),[d,j]=o.useState(1),[y,N]=o.useState(!1),[e,f]=o.useState(null),[n,h]=o.useState({name:"",phone:"",email:"",payment:""}),b="https://lyricistapi.wineds.com",w="https://lyricistadminapi.wineds.com",C=`${b}/api/v1/events/list-paginate`;o.useEffect(()=>{(async()=>{try{const r=await fetch(`${C}?page=${m}`);if(!r.ok)throw new Error("Network response was not ok");const P=await r.json(),{paginator:D,data:E}=P.data;u(E.map(l=>({id:l.id,image:`${w}${l.file_path}`,title:l.title,artist:l.artist,description:l.description,date:l.date,location:l.location}))),j(D.total_pages)}catch(r){console.error("Error fetching data:",r)}})()},[m]);const S=t=>g(t),p=()=>{N(!1),f(null),h({name:"",phone:"",email:"",payment:""})},i=t=>{h({...n,[t.target.name]:t.target.value})},k=t=>{t.preventDefault(),console.log("Form Data Submitted:",n),p()};return a.jsxs(a.Fragment,{children:[a.jsx(F,{}),a.jsx("div",{className:"container-fluid bg-dark",style:{marginTop:"-24px",minHeight:"100vh"},children:a.jsxs("div",{className:"container mt-4",children:[a.jsx("h1",{className:"text-light",children:a.jsx("span",{className:"typograph-text",children:"Upcoming Events"})}),a.jsx("div",{className:"row mt-5 mt-sm-1",children:x.map(t=>a.jsx("div",{className:"col-12 mb-4",children:a.jsxs("div",{className:"cards event-card d-flex flex-lg-row flex-column p-3",style:{backgroundColor:"rgba(165, 239, 255, 0.2)"},children:[t.image&&a.jsx("img",{src:t.image,alt:t.title,className:"img-fluid event-image col-lg-4 col-12"}),a.jsxs("div",{className:"card-body col-lg-8 col-12 text-start text-light",children:[a.jsx("h2",{className:"card-title",children:t.title}),a.jsxs("h5",{children:[" Date: ",t.date," "]}),a.jsxs("h5",{children:[" Location: ",t.location]}),a.jsxs("h6",{className:"card-subtitle mb-2 text-highlight",children:["By ",a.jsx("span",{style:{color:"rgba(255, 149, 0, 1)"},children:t.artist})]}),a.jsx("p",{className:"card-text text-start fw-normal",children:t.description})]})]})},t.id))}),d>1&&a.jsx("nav",{children:a.jsx("ul",{className:"pagination justify-content-center",children:Array.from({length:d},(t,r)=>a.jsx("li",{className:`page-item ${m===r+1?"active":""}`,children:a.jsx("button",{className:"page-link",onClick:()=>S(r+1),children:r+1})},r))})}),a.jsxs(c,{show:y,onHide:p,dialogClassName:"custom-modal-width",children:[a.jsx(c.Header,{closeButton:!0,children:a.jsxs(c.Title,{children:["Get Tickets for ",e==null?void 0:e.title]})}),a.jsxs(c.Body,{children:[(e==null?void 0:e.image)&&a.jsx("img",{src:e.image,alt:e.title,className:"img-fluid",style:{width:"100%",borderRadius:"8px"}}),a.jsx("h5",{className:"mt-3",children:e==null?void 0:e.artist}),a.jsxs("h6",{className:"text-muted",children:["Date: ",e==null?void 0:e.date," | Location: ",e==null?void 0:e.location]}),a.jsx("p",{className:"mt-3",children:e==null?void 0:e.description}),a.jsxs(s,{onSubmit:k,children:[a.jsxs(s.Group,{className:"mb-3",controlId:"formName",children:[a.jsx(s.Label,{children:"Name"}),a.jsx(s.Control,{type:"text",placeholder:"Enter your name",name:"name",value:n.name,onChange:i,required:!0})]}),a.jsxs(s.Group,{className:"mb-3",controlId:"formPhone",children:[a.jsx(s.Label,{children:"Phone"}),a.jsx(s.Control,{type:"tel",placeholder:"Enter your phone number",name:"phone",value:n.phone,onChange:i,required:!0})]}),a.jsxs(s.Group,{className:"mb-3",controlId:"formEmail",children:[a.jsx(s.Label,{children:"Email"}),a.jsx(s.Control,{type:"email",placeholder:"Enter your email",name:"email",value:n.email,onChange:i,required:!0})]}),a.jsxs(s.Group,{className:"mb-3",controlId:"formPayment",children:[a.jsx(s.Label,{children:"Payment Method"}),a.jsx(s.Control,{type:"text",placeholder:"Enter payment method",name:"payment",value:n.payment,onChange:i,required:!0})]}),a.jsx(L,{variant:"primary",type:"submit",children:"Submit"})]})]})]})]})})]})};export{$ as default};
