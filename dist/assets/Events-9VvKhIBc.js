import{r as n,j as e,N as E,M as y}from"./index-CNIlqMKE.js";const M=()=>{const[l,o]=n.useState([]),[i,r]=n.useState(1),[c,d]=n.useState(1),[m,h]=n.useState(!1),[S,p]=n.useState(null),[k,x]=n.useState({name:"",phone:"",email:"",payment:""}),g="https://lyricistapi.wineds.com",j="https://lyricistadminapi.wineds.com",N=`${g}/api/v1/events/list-paginate`;n.useEffect(()=>{(async()=>{try{const s=await fetch(`${N}?page=${i}`);if(!s.ok)throw new Error("Network response was not ok");const u=await s.json(),{paginator:f,data:w}=u.data;o(w.map(a=>({id:a.id,image:`${j}${a.file_path}`,title:a.title,artist:a.artist,description:a.description,date:a.date,location:a.location}))),d(f.total_pages)}catch(s){console.error("Error fetching data:",s)}})()},[i]);const v=()=>{h(!1),p(null),x({name:"",phone:"",email:"",payment:""})};return e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx("div",{className:"container-fluid bg-dark",style:{minHeight:"100vh"},children:e.jsx("div",{className:"container events-container",children:e.jsxs("div",{className:"events-content",children:[e.jsx("h1",{className:"events-title",children:e.jsx("span",{className:"typograph-text text-light",children:"Upcoming Events"})}),e.jsx("div",{className:"events-list",children:l.map(t=>e.jsxs("div",{className:"event-card",children:[e.jsx("div",{className:"event-image-container",children:e.jsx("img",{src:t.image,alt:t.title,className:"event-image"})}),e.jsxs("div",{className:"event-content text-start text-light ",children:[e.jsx("h2",{className:"event-title text-start ",children:t.title}),e.jsxs("div",{className:"event-details",children:[e.jsxs("h5",{className:"event-date",children:["Date: ",t.date]}),e.jsxs("h5",{className:"event-location",children:["Location: ",t.location]}),e.jsxs("h6",{className:"event-artist",children:["By ",e.jsx("span",{className:"artist-name",children:t.artist})]})]}),e.jsx("p",{className:"event-description",children:t.description})]})]},t.id))}),c>1&&e.jsx("nav",{className:"pagination-container",children:e.jsx("ul",{className:"pagination",children:Array.from({length:c},(t,s)=>e.jsx("li",{className:`page-item ${i===s+1?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>r(s+1),children:s+1})},s))})}),e.jsx(y,{show:m,onHide:v,dialogClassName:"custom-modal-width"})]})})})]})};export{M as default};
