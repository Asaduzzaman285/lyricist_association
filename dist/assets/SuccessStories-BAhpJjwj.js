import{r as a,a as p,j as e,N as C,M as i,B as M}from"./index-BQ5YbL2O.js";const B=()=>{const[u,j]=a.useState([]),[n,b]=a.useState(1),[r,N]=a.useState({}),[t,c]=a.useState(null),[f,o]=a.useState(!1),d="https://lyricistapi.wineds.com",m="https://lyricistadminapi.wineds.com";a.useEffect(()=>{S(n)},[n]);const S=async s=>{try{const l=(await p.get(`${d}/api/v1/success-stories/list-paginate?page=${s}`)).data;if(l.status==="success"){const v=await Promise.all(l.data.data.map(async g=>{const y=(await p.get(`${d}/api/v1/members/single-data/${g.member_id}`)).data.data;return{...g,member_name:y.name}}));j(v),N(l.data.paginator)}else console.error("Failed to fetch stories:",l.message)}catch(x){console.error("Error fetching stories:",x)}},w=s=>{b(s)},_=s=>{c(s),o(!0)},h=()=>{o(!1),c(null)};return e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx("div",{className:"container-fluid bg-dark",style:{minHeight:"100vh"},children:e.jsxs("div",{className:"container",style:{padding:"20px",borderRadius:"8px"},children:[e.jsx("h1",{className:"text-center text-light mb-4",children:"Success Stories"}),e.jsx("div",{className:"row",children:u.map(s=>e.jsx("div",{className:"col-12 mb-4",children:e.jsxs("div",{className:"cards story-card d-flex flex-row p-3",style:{backgroundColor:"rgba(165, 239, 255, 0.2)"},children:[s.file_path&&e.jsx("img",{src:`${m}${s.file_path}`,alt:s.headline,className:"img-fluid story-image w-50"}),e.jsxs("div",{className:"card-body w-50 text-start text-light",children:[e.jsx("h2",{className:"card-title",children:s.headline}),e.jsxs("h5",{children:[" Posted on: ",s.posting_time]}),e.jsxs("h6",{className:"card-subtitle mb-2 text-highlight",children:["By ",s.member_name," "]}),e.jsx("p",{className:"card-text text-start fw-normal",children:s.details}),e.jsx("button",{type:"button",className:"btn btn-light text-start w-25",onClick:()=>_(s),children:"Read More"})]})]})},s.id))}),r.total_pages>1&&e.jsx("nav",{children:e.jsx("ul",{className:"pagination justify-content-center",children:[...Array(r.total_pages).keys()].map(s=>e.jsx("li",{className:`page-item ${n===s+1?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>w(s+1),children:s+1})},s+1))})})]})}),t&&e.jsxs(i,{show:f,onHide:h,centered:!0,dialogClassName:"custom-modal-width",children:[e.jsx(i.Header,{closeButton:!0,children:e.jsx(i.Title,{children:t.headline})}),e.jsxs(i.Body,{children:[t.file_path&&e.jsx("img",{src:`${m}${t.file_path}`,alt:t.headline,className:"img-fluid",style:{width:"100%",borderRadius:"8px"}}),e.jsx("h5",{className:"mt-3",children:t.subheading}),e.jsxs("h6",{className:"text-muted",children:["By ",t.member_name," | Posted on: ",t.posting_time]}),e.jsx("p",{className:"mt-3",children:t.details})]}),e.jsx(i.Footer,{children:e.jsx(M,{variant:"secondary",onClick:h,children:"Close"})})]})]})};export{B as default};
