import{r as l,j as e,N as P,M as c,F as t,B as T}from"./index-C5Q9qKp1.js";const D=()=>{const[N,v]=l.useState([]),[d,b]=l.useState(1),[p,y]=l.useState(1),[k,u]=l.useState(!1),[o,x]=l.useState(null),[r,j]=l.useState({name:"",email:"",phone:"",address:"",paymentMethod:""}),f="https://api.lyricistsassociationbd.com",C="https://adminapi.lyricistsassociationbd.com",E=`${f}/api/v1/events/list-paginate`;l.useEffect(()=>{(async()=>{try{const s=await fetch(`${E}?page=${d}`);if(!s.ok)throw new Error("Network response was not ok");const h=await s.json(),{paginator:m,data:M}=h.data;v(M.map(n=>({id:n.id,image:`${C}${n.file_path}`,title:n.title,artist:n.artist,description:n.description,date:n.date,location:n.location,ticketPrice:n.ticket_price||"BDT 500.00"}))),y(m.total_pages)}catch(s){console.error("Error fetching data:",s)}})()},[d]);const S=a=>{x(a),u(!0)},g=()=>{u(!1),x(null),j({name:"",email:"",phone:"",address:"",paymentMethod:""})},i=a=>{const{name:s,value:h}=a.target;j(m=>({...m,[s]:h}))},w=a=>{a.preventDefault(),console.log("Ticket booking data:",{event:o,formData:r}),g()};return e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsx("div",{className:"container-fluid bg-dark",style:{minHeight:"100vh"},children:e.jsx("div",{className:"container events-container",children:e.jsxs("div",{className:"events-content",children:[e.jsx("h1",{className:"events-title",children:e.jsx("span",{className:"typograph-text text-light",children:"Upcoming Events"})}),e.jsx("div",{className:"events-list",children:N.map(a=>e.jsxs("div",{className:"event-card",children:[e.jsx("div",{className:"event-image-container",children:e.jsx("img",{src:a.image,alt:a.title,className:"event-image"})}),e.jsxs("div",{className:"event-content text-start text-light",children:[e.jsx("h2",{className:"event-title text-start",children:a.title}),e.jsxs("div",{className:"event-details",children:[e.jsxs("h5",{className:"event-date",children:["Date: ",a.date]}),e.jsxs("h5",{className:"event-location",children:["Location: ",a.location]}),e.jsxs("h6",{className:"event-artist",children:["By ",e.jsx("span",{className:"artist-name",children:a.artist})]}),e.jsxs("h5",{className:"event-ticket-price",children:["Ticket Price: ",a.ticketPrice]})]})]}),e.jsx("button",{className:"ticket-button",onClick:()=>S(a),children:"GET YOUR TICKETS"})]},a.id))}),p>1&&e.jsx("nav",{className:"pagination-container",children:e.jsx("ul",{className:"pagination",children:Array.from({length:p},(a,s)=>e.jsx("li",{className:`page-item ${d===s+1?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>b(s+1),children:s+1})},s))})}),e.jsxs(c,{show:k,onHide:g,dialogClassName:"custom-modal-width",centered:!0,children:[e.jsx(c.Header,{closeButton:!0,children:e.jsxs(c.Title,{children:["Book Tickets for ",o==null?void 0:o.title]})}),e.jsx(c.Body,{children:e.jsxs(t,{onSubmit:w,children:[e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Full Name"}),e.jsx(t.Control,{type:"text",name:"name",value:r.name,onChange:i,required:!0,placeholder:"Enter your full name"})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Email Address"}),e.jsx(t.Control,{type:"email",name:"email",value:r.email,onChange:i,required:!0,placeholder:"Enter your email"})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Phone Number"}),e.jsx(t.Control,{type:"tel",name:"phone",value:r.phone,onChange:i,required:!0,placeholder:"Enter your phone number"})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Address"}),e.jsx(t.Control,{type:"text",name:"address",value:r.address,onChange:i,placeholder:"Enter your address"})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Payment Method"}),e.jsxs(t.Control,{as:"select",name:"paymentMethod",value:r.paymentMethod,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"Select Payment Method"}),e.jsx("option",{value:"bkash",children:"bKash"}),e.jsx("option",{value:"nagad",children:"Nagad"}),e.jsx("option",{value:"rocket",children:"Rocket"})]})]}),e.jsx(T,{variant:"primary",type:"submit",className:"w-100",children:"Book Tickets"})]})})]})]})})})]})};export{D as default};
