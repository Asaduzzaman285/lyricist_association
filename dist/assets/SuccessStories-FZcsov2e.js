import{r as a,a as g,j as e,N as C,M as i,B as k}from"./index-D9rku6y3.js";const $=()=>{const[u,j]=a.useState([]),[n,b]=a.useState(1),[c,f]=a.useState({}),[t,r]=a.useState(null),[N,o]=a.useState(!1),d="https://api.lyricistsassociationbd.com",h="https://adminapi.lyricistsassociationbd.com";a.useEffect(()=>{S(n)},[n]);const S=async s=>{try{const l=(await g.get(`${d}/api/v1/success-stories/list-paginate?page=${s}`)).data;if(l.status==="success"){const w=await Promise.all(l.data.data.map(async p=>{const v=(await g.get(`${d}/api/v1/members/single-data/${p.member_id}`)).data.data;return{...p,member_name:v.name}}));j(w),f(l.data.paginator)}else console.error("Failed to fetch stories:",l.message)}catch(x){console.error("Error fetching stories:",x)}},y=s=>{b(s)},_=s=>{r(s),o(!0)},m=()=>{o(!1),r(null)};return e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx("div",{className:"container-fluid bg-dark",style:{minHeight:"100vh"},children:e.jsxs("div",{className:"container",style:{padding:"20px",borderRadius:"8px"},children:[e.jsx("h1",{className:"text-start text-light mb-4",children:e.jsx("span",{className:"typograph-text",children:"Success Stories "})}),e.jsx("div",{className:"row",children:u.map(s=>e.jsx("div",{className:"col-12 mb-4",children:e.jsxs("div",{className:"cards story-card d-flex flex-lg-row flex-column p-3",style:{backgroundColor:"rgba(165, 239, 255, 0.2)"},children:[s.file_path&&e.jsx("img",{src:`${h}${s.file_path}`,alt:s.headline,className:"img-fluid story-image col-lg-4 col-12"}),e.jsxs("div",{className:"card-body col-lg-8 col-12 text-start text-light",children:[e.jsx("h2",{className:"card-title",children:s.headline}),e.jsxs("h5",{children:[" Posted on: ",s.posting_time]}),e.jsxs("h6",{className:"card-subtitle mb-2 text-highlight",children:["By  ",e.jsx("span",{style:{color:"rgba(255, 149, 0, 1)"},children:s.member_name})]}),e.jsx("p",{className:"card-text text-start h-auto fw-normal",children:s.details}),e.jsx("button",{type:"button",className:"btn text-white",onClick:()=>_(s),style:{width:"176px",height:"35px",padding:"10px",backgroundColor:"#c30505",border:"none",fontSize:"18px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.3s ease"},children:"Read More"})]})]})},s.id))}),c.total_pages>1&&e.jsx("nav",{children:e.jsx("ul",{className:"pagination justify-content-center",children:[...Array(c.total_pages).keys()].map(s=>e.jsx("li",{className:`page-item ${n===s+1?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>y(s+1),children:s+1})},s+1))})})]})}),t&&e.jsxs(i,{show:N,onHide:m,centered:!0,dialogClassName:"custom-modal-width",children:[e.jsx(i.Header,{closeButton:!0,children:e.jsx(i.Title,{children:t.headline})}),e.jsxs(i.Body,{children:[t.file_path&&e.jsx("img",{src:`${h}${t.file_path}`,alt:t.headline,className:"img-fluid",style:{width:"100%",borderRadius:"8px"}}),e.jsx("h5",{className:"mt-3",children:t.subheading}),e.jsxs("h6",{className:"text-muted",children:["By ",t.member_name," | Posted on: ",t.posting_time]}),e.jsx("p",{className:"mt-3",children:t.details})]}),e.jsx(i.Footer,{children:e.jsx(k,{variant:"secondary",onClick:m,children:"Close"})})]})]})};export{$ as default};
